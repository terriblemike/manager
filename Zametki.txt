Внимание: необходимо в pserialport.h изменить WAIT_TIMEOUT на маленькое значение,
т.к. при отсутствии одного энкодера остальные на этой линии не инициализируются.

Управление спойлерный мотором:
    Против часовой - назад (смотреть на мотор со стороны вращательного шпинделя)

Управление точным актуатором GSM40:
    Угол 40 град. Скорость 2 град в сек. Длина штока 200 мм.
    Время прохода всей длины 40 / 2 = 20 сек.
    Скорость 200мм / 20сек = 10мм/сек. Шаг настройки скорости 0.1мм/сек.
    Для остальных моторов максимальная скорость 127.
    Для точного можно оставить 127, но не мм/сек, а 12,7 мм/сек.
    Т.е. единица изменения равна 0.1 мм/сек. В дальнейшем для ускорения можно увеличить максимальную скорость до 1270.
    Скорость задается от -127 до 127. Знак - направление движения.
    Отриц. - втягивание, полож. - выдвижение.
    При каждом включении питания происходит поиск ноль-позиции.
    В нашем случае ноль-позиция в вытянутом состоянии (при настройке это нужно указать).
    Нельзя допускать проворачивание штока.
    Ком-порт 4 + 3 = 7. Скорость - 19200. DataBits - 8.  Parity=0. StopBits=2. FlowControl=0
    Для разрешения задания параметров 17.07 и 17.05 необходимо на БУ параметр 0.49 изменить на L2.
    В параметрах 17.07 задать 19200, а 17.05 задать 11.
    Затем в нулевой параметр записать значение 1000 и нажать кнопку сброс.


Управление мотором IG-90:
    При управлении мотором запуск и остановка осуществляются установкой
    скорости и сбросом ее в 0. Для запуска двигателя необходимо послать
    команду "Вход в режим регулировки от ПК, запуск двигателя".
    Т.о. для работы с БМСД и мотором, необходимо сначала перейти в режим,
    а затем уже управлять двигателем установкой скоростью.
    Переход в дежурный режим - это экстренное торможение.
    При экстренном торможении значения торможения не влияют и 
    происходит резкая остановка двигателя (проворот мотора на столе 
    при отсутствии зажимов).
    При задание скорости более 127 визуально не наблюдается увеличение скорости.
    При задании скорости более 127 и экстренном торможении, на БМСД
    загорается красный индикатор.
    После экстренного торможения с загоранием красного индикатора,
    необходимо повторно отправить сигнал входа в дежурный режим и 
    новое движение начинать не ранее чем через одну секунду (желательно 
    около 2-3).
    При выставлении значения более 250 происходит экстренное торможение 
    мотора, причем после перехода в деж. режим он снова пытается крутиться
    и снова экстренное торможение с ошибкой.
    Направление движения: стрелки влево - по часовой стрелке, стрелки вправо - против часовой стрелки.
    Подключен к БМСД (группа из трех). В группе подключен ко второму БМСД.

Управление актуатором CAHB-10-B3A-100243-AAAAPA-000:
    По аналогии с предыдущим мотором.
    Также можно задавать ускорение и торможение. Управление через скорость.
    Визуально не наблюдается необходимость задавать скорость более 127.
    Направление движения задается: стрелки влево - складывается, стрелки вправо - раздвигается.
    Подключены к БМСД (группа из двух). Два разных актуатора CAHB-10-B3A и CAHB-10-B5А.
    Значения для актуаторов: CAHB-10-B3A  -  0.075 мм/импульс, ход - 100мм.
                             CAHB-10-B5A  -  0.038 мм/импульс, ход - 100мм.


Работа с энкодерами:
    Энкодеры подключены на компорты платы RS485.
    Параметры портов: скорость - 38400, стоп бит - 1, биты данных - 8, четность - нет, контроль четности - нет, управление потоком - нет.
    Энкодер угла\места на 6 порт,
    Энкодер азимута на 5 порт. Перед началом работы с энкодером его необходимо обнулить.
    Это осуществляется подачей U+ на контакт Zero settings (на 10 контакт).
    Это будет осуществляться путем подачи сигнала с платы дискретных в\в.
    (Дима должен изменить схему и сообщить номер контактов, но было принято решение, что будет поправка на начальные значения,
    которые будут браться из файла, а записываться туда один раз за работу при нажатии концевика ЗТУ).
    При повороте изменяются значения следующих полей:
        high byte revolution - количество оборотов по 256 оборотов (0 - 15)
        low byte revolution - количество полных поворотов (0 - 255)
        high byte steps - точное значение на один поворот (0 - 31) - нужно использовать для энкодера угла/места
        low byte steps - супер точное значение поворота (0 - 255) - нужно использовать для энкодера угла/места

    При повороте по часовой стрелки значения увеличиваются (если смотреть сверху на энкодер).
    При повороте против часовой стрелки значения уменьшаются (если смотреть сверху на энкодер).
    При переходе через 0 следующее значение либо 255 либо 31 соответственно.
    Передаточное число для энкодера азимута равно 88 к 8, т.е. полный оборот платформы
    это 11 полных оборотов энкодера.
    Энкодер угла места - прямая зависимость 1 к 1.

Работа с БМСД:
    Подключены к 45-46 контактам - компорт 10 в системе - группа из 2х устройст.
    Подключены к 48(-) - 49(+) контактам - компорт 9 в системе - группа из 3х устройст.
    Параметры портов: скорость - 9600, стоп бит - 1, биты данных - 8, четность - нет, контроль четности - нет, управление потоком - нет.
    Перед началом работы с ними необходимо задать адреса устройст путем посылки определенной команды и нажатием
    кнопки на соответствующем БМСД (устройства должны быть без адреса, либо его необходимо сбросить удержанием кнопки
    на 5 секунд при подаче питания). При установке адреса (подаче команды) устройства без адреса начинают мигать зел. индикатором.
    После установки адреса нужно подать команду на отмену установки адреса.
    Принцип работы с моторам: задать ускорение, задать торможение, сбросить скорость, включить пуск, регулировать ход
    путем установки скорости.


Работа с дальномером ДЛ-5М:
    Подключен к 4 компорту в системе (1-3 порты либо неисправны, либо что-то не то).
    Параметры портов: скорость - 19200, стоп бит - 1, биты данных - 8, четность - нет, контроль четности - нет, управление потоком - нет.
    Запрос отправляется путем посылки определенной команды.
    В ответ приходят данные о дальности либо о статусе устройства.
    Для получения статуса необходимо сформировать посылку (строку) из двух команд.
    Для запроса дальности - посылку из 8 команд.
    Далее анализировать ответ - обязательно проверять на валидность данных, т.к. в ответе много мусора либо неполные данные (не весь пакет).

Джойстик:
    Нормальное расположение осей и значений по ним только в том случае, если джойстик расположен так, что разъем его смотрит на оператора.
    По осям значения от -32768 до 32767. В программе при получении данных они делятся на 256.
    Начальное значение отлично от 0 (может быть в районе -2 до 2 при условии деления на 256).






